
.row
  .col-sm-12
    section(st-table="displayedTeams", st-safe-src='safeDisplayedTeams')
      .row
          .input-group.col-sm-12
            .col-sm-11
              input.input-sm.form-control(st-search='' type='search' placeholder='Search')
            .col-sm-1
              button.btn.btn-sm.btn-default(ui-sref='^.list' ui-sref-opts="{reload: true, notify: true}",title='Refresh Teams')
                i.fa.fa-refresh
      .table-responsive
        table.table.table-striped
          thead
            tr
              th.sortable.col-sm-2.col-md-2.col-lg-2(st-sort='name' st-sort-default="true") Name
              th.sortable.col-sm-3.col-md-3.col-lg-3(st-sort='description') Description
              th.col-sm-1.col-md-1.col-lg-1 Members
              th.col-sm-2.col-md-2.col-lg-2 Domains
              th.col-sm-2.col-md-2.col-lg-2 Trails
              th.col-sm-2.col-md-2.col-lg-2
                a.btn.btn-sm.btn-success.glyphicon.glyphicon-plus.custom(ui-sref='^.add', ng-disabled='!currentUser.isAdmin')
                  | Add Team

          tbody
            tr(ng-repeat='team in displayedTeams')
              td.col-sm-2
                a(href='', ui-sref='app.dwTeams.view({id: team.id})') {{team.name}}
              td.col-sm-3
                text-muted {{team.description}}
              td.col-sm-1
                label.label-ltgray(ng-repeat="user in team.users") {{user.username}}
              td.col-sm-2
                label.label-ltgray(ng-repeat="domain in team.domains") {{domain.name}}
              td.col-sm-2
                label.label-ltgray(ng-repeat="trail in team.trails") {{trail.name + ' '}}
              td.col-sm-2
                .btn-toolbar
                    button.btn.btn-sm.btn-default(ui-sref='app.dwTeams.edit({id:team.id})', , ng-disabled='!currentUser.isAdmin')
                        i.fa.fa-pencil
                    button.btn.btn-sm.btn-danger(ng-click='delete({id:team})', , ng-disabled='!currentUser.isAdmin')
                        i.fa.fa-trash-o
  .overlay(ng-if='loading')
  .loading-img(ng-if='loading')
